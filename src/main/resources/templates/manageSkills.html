<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Manage Skills</title>
</head>
<body>

<div class="dashboard">
  <h1>Manager Dashboard</h1>
  <ul>
    <li><a href="/managers/projects">Manage Projects</a></li>
    <li><a href="/managers/developers">Manage Developers</a></li>
    <li><a href="/managers/skills">Manage Skills</a></li>
    <li><a href="/managers/assignments">Manage Assignments</a></li>
    <li><a href="/managers/evaluations">Manage Evaluations</a></li>
  </ul>
</div>

<div class="content">
  <h2>Manage Skills</h2>

  <!-- Display success/error messages -->
  <div th:if="${successMessage}" class="alert alert-success">
    <p th:text="${successMessage}"></p>
  </div>
  <div th:if="${errorMessage}" class="alert alert-danger">
    <p th:text="${errorMessage}"></p>
  </div>

  <!-- List of Skills -->
  <h3>Skill List</h3>
  <ul>
    <li th:each="skill : ${skills}">
      <span th:text="${skill.name}"></span>

      <!-- Link to edit skill -->
      <a th:href="@{/managers/skills/edit/{id}(id=${skill.id})}">Edit</a>

      <!-- Delete skill form -->
      <form th:action="@{/managers/skills/delete}" method="post" style="display:inline;">
        <input type="hidden" th:name="skillId" th:value="${skill.id}" />
        <button type="submit" onclick="return confirm('Are you sure you want to delete this skill?');">Delete</button>
      </form>
    </li>
  </ul>

  <!-- Form for adding or updating a skill -->
  <h3 th:if="${skillForm != null}">Edit Skill</h3>
  <h3 th:unless="${skillForm != null}">Add Skill</h3>
  <form th:action="@{/managers/skills}" method="post">
    <input type="hidden" th:if="${skillForm != null}" th:name="id" th:value="${skillForm.id}" />

    <label for="name">Skill Name</label>
    <input type="text" id="name" name="name" th:value="${skillForm != null ? skillForm.name : ''}" required />

    <label for="description">Skill Description</label>
    <textarea id="description" name="description" th:value="${skillForm != null ? skillForm.description : ''}" required></textarea>

    <button type="submit" th:text="${skillForm != null ? 'Update Skill' : 'Add Skill'}"></button>
  </form>
</div>

</body>
</html>
