<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Manage Developers</title>
</head>
<body>

<div class="dashboard">
  <h1>Manager Dashboard</h1>
  <ul>
    <li><a href="/managers/projects">Manage Projects</a></li>
    <li><a href="/managers/developers">Manage Developers</a></li>
    <li><a href="/managers/skills">Manage Skills</a></li>
    <li><a href="/managers/assignments">Manage Assignments</a></li>
    <li><a href="/managers/evaluations">Manage Evaluations</a></li>
  </ul>
</div>

<div class="content">
  <h2>Manage Developers</h2>

  <!-- Display success/error messages -->
  <div th:if="${successMessage}" class="alert alert-success">
    <p th:text="${successMessage}"></p>
  </div>
  <div th:if="${errorMessage}" class="alert alert-danger">
    <p th:text="${errorMessage}"></p>
  </div>

  <!-- List of Developers -->
  <h3>Developer List</h3>
  <ul>
    <li th:each="developer : ${developers}">
      <span th:text="${developer.name}"></span>

      <!-- Link to edit developer -->
      <a th:href="@{/managers/developers/edit/{id}(id=${developer.id})}">Edit</a>

      <!-- Delete developer form -->
      <form th:action="@{/managers/developers/delete}" method="post" style="display:inline;">
        <input type="hidden" th:name="developerId" th:value="${developer.id}" />
        <button type="submit" onclick="return confirm('Are you sure you want to delete this developer?');">Delete</button>
      </form>
    </li>
  </ul>

  <!-- Form for adding or updating a developer -->
  <h3 th:if="${developerForm != null}">Edit Developer</h3>
  <h3 th:unless="${developerForm != null}">Add Developer</h3>
  <form th:action="@{/managers/developers}" method="post">
    <input type="hidden" th:if="${developerForm != null}" th:name="id" th:value="${developerForm.id}" />

    <label for="name">Developer Name</label>
    <input type="text" id="name" name="name" th:value="${developerForm != null ? developerForm.name : ''}" required />

    <label for="email">Developer Email</label>
    <input type="email" id="email" name="email" th:value="${developerForm != null ? developerForm.email : ''}" required />

    <button type="submit" th:text="${developerForm != null ? 'Update Developer' : 'Add Developer'}"></button>
  </form>
</div>

</body>
</html>
